apiVersion: eksctl.io/v1alpha5
kind: ClusterConfig

metadata:
  name: fcg
  region: us-east-1
  version: "1.34"

# OIDC Provider autom√°tico
iam:
  withOIDC: true

# Usar VPC existente
vpc:
  id: vpc-0e6d1df089da1ec39
  subnets:
    public:
      us-east-1a:
        id: subnet-08035017dcc5c41e7
      us-east-1b:
        id: subnet-090815b3bd14704d0
      us-east-1c:
        id: subnet-09d24d555fe7d7c73
      us-east-1d:
        id: subnet-084a598f6ed76240f
      us-east-1f:
        id: subnet-08851ac7f83c2999f

# Access Control (EKS 1.34+)
accessConfig:
  authenticationMode: API_AND_CONFIG_MAP

# Node Group
managedNodeGroups:
  - name: low-cost
    instanceType: t3a.small
    desiredCapacity: 2
    minSize: 2
    maxSize: 3
    # Usar apenas 2 subnets para nodes
    subnets:
      - subnet-08035017dcc5c41e7
      - subnet-090815b3bd14704d0
    labels:
      role: worker
      environment: production
    tags:
      Name: fcg-low-cost-node
      Environment: production
      Project: fcg
